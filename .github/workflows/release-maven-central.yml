# DEPRECATED: This workflow is no longer needed with the new Central Portal publishing.
# The publish-maven-central.yml workflow now handles both staging and releasing in one step.
#
# If you used USER_MANAGED publishing type, you can manually release from:
# https://central.sonatype.com/publishing
#
# This file is kept for reference but should not be used.

name: Release TestNG to Maven Central (DEPRECATED)

on:
  workflow_dispatch:
    inputs:
      deployment_id:
        description: 'The deployment ID from Central Portal (if using USER_MANAGED publishing)'
        required: false

jobs:
  deprecated-notice:
    runs-on: ubuntu-latest
    steps:
    - name: Show deprecation notice
      run: |
        echo "⚠️  This workflow is DEPRECATED."
        echo ""
        echo "With the new Central Portal API, releases are handled differently:"
        echo ""
        echo "Option 1 (Recommended): Use AUTOMATIC publishing"
        echo "  - Run 'publish-maven-central.yml' with publishing_type=AUTOMATIC"
        echo "  - Artifacts are automatically published to Maven Central"
        echo ""
        echo "Option 2: Use USER_MANAGED publishing"
        echo "  - Run 'publish-maven-central.yml' with publishing_type=USER_MANAGED"
        echo "  - Go to https://central.sonatype.com/publishing"
        echo "  - Review and manually publish your deployment"
        echo ""
        echo "This two-step workflow (stage then release) is no longer necessary."
        exit 1
